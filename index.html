<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Marathi Crime Files</title>
<script src="https://cdn.tailwindcss.com"></script>

<!-- ðŸ”¹ Firebase -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, set, get, onValue, push } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "YOUR_API_KEY",
  authDomain: "YOUR_PROJECT.firebaseapp.com",
  databaseURL: "https://YOUR_PROJECT.firebaseio.com",
  projectId: "YOUR_PROJECT",
  storageBucket: "YOUR_PROJECT.appspot.com",
  messagingSenderId: "YOUR_ID",
  appId: "YOUR_APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// ðŸŸ¢ Load Notice
const noticeRef = ref(db, "notice");
onValue(noticeRef, (snap) => {
  document.getElementById("noticeText").textContent = snap.val() || "";
});

// ðŸŸ¢ Load Headline
const headlineRef = ref(db, "headline");
onValue(headlineRef, (snap) => {
  document.getElementById("headlineText").textContent = snap.val() || "";
});

// ðŸŸ¢ Load Posts
const postsRef = ref(db, "posts");
onValue(postsRef, (snap) => {
  const postsArea = document.getElementById("postsArea");
  postsArea.innerHTML = "";
  snap.forEach((child) => {
    const data = child.val();
    const card = `
      <div class="p-3 bg-white rounded-xl shadow hover:shadow-lg transition">
        <img src="${data.image}" class="w-full h-40 object-cover rounded-md mb-2">
        <h3 class="font-semibold text-sm">${data.title}</h3>
        <p class="text-gray-700 text-xs">${data.desc}</p>
      </div>`;
    postsArea.innerHTML += card;
  });
});

// ðŸŸ¢ Load Banner Images
const bannerRef = ref(db, "bannerImages");
onValue(bannerRef, (snap) => {
  const container = document.querySelector(".slider");
  container.innerHTML = "";
  snap.forEach((child) => {
    const img = document.createElement("img");
    img.src = child.val();
    img.className = "slider-img";
    container.appendChild(img);
  });
});
</script>

<style>
body {
  margin: 0;
  padding-top: 55px;
  font-family: 'Poppins', sans-serif;
}

/* ðŸ”¹ HEADER */
header {
  background: linear-gradient(90deg, #1e3a8a, #3b82f6);
  color: white;
  padding: 6px 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: fixed;
  width: 100%;
  top: 0;
  z-index: 9999;
  box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
header img {
  width: 34px;
  height: 34px;
  border-radius: 50%;
}
.nav-btn {
  background: linear-gradient(180deg, #ffffff, #dbeafe);
  color: #1e3a8a;
  font-weight: 600;
  border: none;
  border-radius: 6px;
  padding: 3px 6px;
  box-shadow: 0 2px 0 #93c5fd;
}
.auth-btn {
  font-size: 11px;
  padding: 3px 6px;
  border-radius: 6px;
}

/* ðŸ”¹ NOTICE + HEADLINE */
.notice-ticker, .headline-ticker {
  background: #fef3c7;
  color: #7c2d12;
  font-weight: 600;
  overflow: hidden;
  white-space: nowrap;
  padding: 4px;
  font-size: 13px;
}
.headline-ticker {
  background: #e0f2fe;
  color: #0c4a6e;
}

/* ðŸ”¹ Ticker Animation */
.ticker-text {
  display: inline-block;
  padding-right: 50px;
  animation: scroll 18s linear infinite;
}
@keyframes scroll {
  0% { transform: translateX(100%); }
  100% { transform: translateX(-100%); }
}

/* ðŸ”¹ POSTS GRID */
.posts-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 10px;
  padding: 8px;
}

/* ðŸ”¹ SLIDER */
.slider-container {
  width: 100%;
  height: 180px;
  overflow: hidden;
  position: relative;
  background: #000;
  margin-top: 6px;
}
.slider {
  display: flex;
  width: 100%;
  height: 100%;
  animation: slide 20s infinite;
}
.slider-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
@keyframes slide {
  0%, 25% { transform: translateX(0); }
  30%, 55% { transform: translateX(-100%); }
  60%, 85% { transform: translateX(-200%); }
  90%, 100% { transform: translateX(0); }
}

/* ðŸ”¹ ADMIN NOTICE */
.editor {
  margin: 15px;
  padding: 10px;
  background: #f3f4f6;
  border-radius: 8px;
}
</style>
</head>

<body>

<header>
  <div class="flex items-center space-x-2">
    <img src="https://i.postimg.cc/6Q5TYPVR/Whats-App-Image-2025-10-26-at-2-42-16-PM.jpg" alt="Logo">
    <h1 class="font-bold text-base">Marathi Crime Files</h1>
  </div>

  <div class="relative">
    <button onclick="toggleMenu()" class="nav-btn">â˜°</button>
    <div id="menuList" class="hidden absolute right-0 mt-1 bg-white text-blue-900 rounded-md shadow-lg">
      <button class="block w-full text-left px-3 py-1 hover:bg-blue-100">Story</button>
      <button class="block w-full text-left px-3 py-1 hover:bg-blue-100">Gumshuda</button>
      <button class="block w-full text-left px-3 py-1 hover:bg-blue-100">Lawarish</button>
      <button class="block w-full text-left px-3 py-1 hover:bg-blue-100">Crime</button>
    </div>
  </div>

  <div class="flex space-x-1">
    <button id="loginBtn" class="auth-btn bg-green-500">Login</button>
    <button id="logoutBtn" class="auth-btn bg-red-600 hidden">Logout</button>
  </div>
</header>

<!-- ðŸ”¹ NOTICE & HEADLINE -->
<div class="notice-ticker"><span class="ticker-text" id="noticeText"></span></div>
<div class="headline-ticker"><span class="ticker-text" id="headlineText"></span></div>

<!-- ðŸ”¹ IMAGE SLIDER -->
<div class="slider-container">
  <div class="slider"></div>
</div>

<!-- ðŸ”¹ POSTS -->
<section id="postsArea" class="posts-grid"></section>

<!-- ðŸ”¹ ADMIN NOTICE -->
<section id="noticeEditor" class="editor hidden">
  <h2>ðŸ“° Admin Notice</h2>
  <input id="noticeInput" placeholder="Enter notice text...">
  <button id="saveNoticeBtn">Save</button>
</section>

<script>
function toggleMenu() {
  document.getElementById('menuList').classList.toggle('hidden');
}
</script>

</body>
</html>
